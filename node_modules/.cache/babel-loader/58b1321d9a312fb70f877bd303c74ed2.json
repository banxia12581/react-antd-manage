{"ast":null,"code":"import useLatest from '../useLatest';\nimport { getTargetElement } from '../utils/domTarget';\nimport useEffectWithTarget from '../utils/useEffectWithTarget';\nexport default function useClickAway(onClickAway, target, eventName) {\n  if (eventName === void 0) {\n    eventName = 'click';\n  }\n\n  var onClickAwayRef = useLatest(onClickAway);\n  useEffectWithTarget(function () {\n    var handler = function handler(event) {\n      var targets = Array.isArray(target) ? target : [target];\n\n      if (targets.some(function (item) {\n        var targetElement = getTargetElement(item);\n        return !targetElement || targetElement.contains(event.target);\n      })) {\n        return;\n      }\n\n      onClickAwayRef.current(event);\n    };\n\n    var eventNames = Array.isArray(eventName) ? eventName : [eventName];\n    eventNames.forEach(function (event) {\n      return document.addEventListener(event, handler);\n    });\n    return function () {\n      eventNames.forEach(function (event) {\n        return document.removeEventListener(event, handler);\n      });\n    };\n  }, Array.isArray(eventName) ? eventName : [eventName], target);\n}","map":{"version":3,"names":["useLatest","getTargetElement","useEffectWithTarget","useClickAway","onClickAway","target","eventName","onClickAwayRef","handler","event","targets","Array","isArray","some","item","targetElement","contains","current","eventNames","forEach","document","addEventListener","removeEventListener"],"sources":["/Users/yinyahui/Desktop/weblearn/juejin/react-antd-yyy-zongzi/node_modules/_ahooks@3.4.0@ahooks/es/useClickAway/index.js"],"sourcesContent":["import useLatest from '../useLatest';\nimport { getTargetElement } from '../utils/domTarget';\nimport useEffectWithTarget from '../utils/useEffectWithTarget';\nexport default function useClickAway(onClickAway, target, eventName) {\n  if (eventName === void 0) {\n    eventName = 'click';\n  }\n\n  var onClickAwayRef = useLatest(onClickAway);\n  useEffectWithTarget(function () {\n    var handler = function handler(event) {\n      var targets = Array.isArray(target) ? target : [target];\n\n      if (targets.some(function (item) {\n        var targetElement = getTargetElement(item);\n        return !targetElement || targetElement.contains(event.target);\n      })) {\n        return;\n      }\n\n      onClickAwayRef.current(event);\n    };\n\n    var eventNames = Array.isArray(eventName) ? eventName : [eventName];\n    eventNames.forEach(function (event) {\n      return document.addEventListener(event, handler);\n    });\n    return function () {\n      eventNames.forEach(function (event) {\n        return document.removeEventListener(event, handler);\n      });\n    };\n  }, Array.isArray(eventName) ? eventName : [eventName], target);\n}"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,cAAtB;AACA,SAASC,gBAAT,QAAiC,oBAAjC;AACA,OAAOC,mBAAP,MAAgC,8BAAhC;AACA,eAAe,SAASC,YAAT,CAAsBC,WAAtB,EAAmCC,MAAnC,EAA2CC,SAA3C,EAAsD;EACnE,IAAIA,SAAS,KAAK,KAAK,CAAvB,EAA0B;IACxBA,SAAS,GAAG,OAAZ;EACD;;EAED,IAAIC,cAAc,GAAGP,SAAS,CAACI,WAAD,CAA9B;EACAF,mBAAmB,CAAC,YAAY;IAC9B,IAAIM,OAAO,GAAG,SAASA,OAAT,CAAiBC,KAAjB,EAAwB;MACpC,IAAIC,OAAO,GAAGC,KAAK,CAACC,OAAN,CAAcP,MAAd,IAAwBA,MAAxB,GAAiC,CAACA,MAAD,CAA/C;;MAEA,IAAIK,OAAO,CAACG,IAAR,CAAa,UAAUC,IAAV,EAAgB;QAC/B,IAAIC,aAAa,GAAGd,gBAAgB,CAACa,IAAD,CAApC;QACA,OAAO,CAACC,aAAD,IAAkBA,aAAa,CAACC,QAAd,CAAuBP,KAAK,CAACJ,MAA7B,CAAzB;MACD,CAHG,CAAJ,EAGI;QACF;MACD;;MAEDE,cAAc,CAACU,OAAf,CAAuBR,KAAvB;IACD,CAXD;;IAaA,IAAIS,UAAU,GAAGP,KAAK,CAACC,OAAN,CAAcN,SAAd,IAA2BA,SAA3B,GAAuC,CAACA,SAAD,CAAxD;IACAY,UAAU,CAACC,OAAX,CAAmB,UAAUV,KAAV,EAAiB;MAClC,OAAOW,QAAQ,CAACC,gBAAT,CAA0BZ,KAA1B,EAAiCD,OAAjC,CAAP;IACD,CAFD;IAGA,OAAO,YAAY;MACjBU,UAAU,CAACC,OAAX,CAAmB,UAAUV,KAAV,EAAiB;QAClC,OAAOW,QAAQ,CAACE,mBAAT,CAA6Bb,KAA7B,EAAoCD,OAApC,CAAP;MACD,CAFD;IAGD,CAJD;EAKD,CAvBkB,EAuBhBG,KAAK,CAACC,OAAN,CAAcN,SAAd,IAA2BA,SAA3B,GAAuC,CAACA,SAAD,CAvBvB,EAuBoCD,MAvBpC,CAAnB;AAwBD"},"metadata":{},"sourceType":"module"}