{"ast":null,"code":"import { useRef } from 'react';\nimport { useMemoizedFn, useUpdate } from 'ahooks';\nexport function usePropsValue(options) {\n  const {\n    value,\n    defaultValue,\n    onChange\n  } = options;\n  const update = useUpdate();\n  const stateRef = useRef(value !== undefined ? value : defaultValue);\n\n  if (value !== undefined) {\n    stateRef.current = value;\n  }\n\n  const setState = useMemoizedFn(v => {\n    const nextValue = typeof v === 'function' ? v(stateRef.current) : v;\n\n    if (value === undefined) {\n      stateRef.current = nextValue;\n      update();\n    }\n\n    onChange === null || onChange === void 0 ? void 0 : onChange(nextValue);\n  });\n  return [stateRef.current, setState];\n}","map":{"version":3,"names":["useRef","useMemoizedFn","useUpdate","usePropsValue","options","value","defaultValue","onChange","update","stateRef","undefined","current","setState","v","nextValue"],"sources":["/Users/yinyahui/Desktop/weblearn/juejin/react-antd-manage/react-antd-manage/node_modules/_antd-mobile@5.12.6@antd-mobile/es/utils/use-props-value.js"],"sourcesContent":["import { useRef } from 'react';\nimport { useMemoizedFn, useUpdate } from 'ahooks';\nexport function usePropsValue(options) {\n  const {\n    value,\n    defaultValue,\n    onChange\n  } = options;\n  const update = useUpdate();\n  const stateRef = useRef(value !== undefined ? value : defaultValue);\n\n  if (value !== undefined) {\n    stateRef.current = value;\n  }\n\n  const setState = useMemoizedFn(v => {\n    const nextValue = typeof v === 'function' ? v(stateRef.current) : v;\n\n    if (value === undefined) {\n      stateRef.current = nextValue;\n      update();\n    }\n\n    onChange === null || onChange === void 0 ? void 0 : onChange(nextValue);\n  });\n  return [stateRef.current, setState];\n}"],"mappings":"AAAA,SAASA,MAAT,QAAuB,OAAvB;AACA,SAASC,aAAT,EAAwBC,SAAxB,QAAyC,QAAzC;AACA,OAAO,SAASC,aAAT,CAAuBC,OAAvB,EAAgC;EACrC,MAAM;IACJC,KADI;IAEJC,YAFI;IAGJC;EAHI,IAIFH,OAJJ;EAKA,MAAMI,MAAM,GAAGN,SAAS,EAAxB;EACA,MAAMO,QAAQ,GAAGT,MAAM,CAACK,KAAK,KAAKK,SAAV,GAAsBL,KAAtB,GAA8BC,YAA/B,CAAvB;;EAEA,IAAID,KAAK,KAAKK,SAAd,EAAyB;IACvBD,QAAQ,CAACE,OAAT,GAAmBN,KAAnB;EACD;;EAED,MAAMO,QAAQ,GAAGX,aAAa,CAACY,CAAC,IAAI;IAClC,MAAMC,SAAS,GAAG,OAAOD,CAAP,KAAa,UAAb,GAA0BA,CAAC,CAACJ,QAAQ,CAACE,OAAV,CAA3B,GAAgDE,CAAlE;;IAEA,IAAIR,KAAK,KAAKK,SAAd,EAAyB;MACvBD,QAAQ,CAACE,OAAT,GAAmBG,SAAnB;MACAN,MAAM;IACP;;IAEDD,QAAQ,KAAK,IAAb,IAAqBA,QAAQ,KAAK,KAAK,CAAvC,GAA2C,KAAK,CAAhD,GAAoDA,QAAQ,CAACO,SAAD,CAA5D;EACD,CAT6B,CAA9B;EAUA,OAAO,CAACL,QAAQ,CAACE,OAAV,EAAmBC,QAAnB,CAAP;AACD"},"metadata":{},"sourceType":"module"}