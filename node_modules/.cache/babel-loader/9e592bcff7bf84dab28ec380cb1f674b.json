{"ast":null,"code":"var _jsxFileName = \"/Users/yinyahui/Desktop/weblearn/juejin/react-antd-yyy-zongzi/src/pages/festival/index.jsx\";\n\n/**\n * @description 端午活动\n */\nimport React, { useEffect, useState } from 'react';\nimport classnames from 'classnames';\nimport Back from '@/components/Back';\nimport { Modal, Stepper } from 'antd-mobile';\nimport { QuestionCircleFill } from 'antd-mobile-icons';\nimport util from '../../utils/util';\nimport './index.less';\n\nconst Festival = () => {\n  const userInfo = util.getUserInfo() || {};\n  const [festivalObj, setfestivalObj] = useState(userInfo.festival ? userInfo.festival : {\n    nuomi: 80,\n    zongye: 20,\n    hongzao: 10,\n    zongzi: 100\n  });\n  const list = [{\n    key: 'nuomi',\n    name: '糯米'\n  }, {\n    key: 'zongye',\n    name: '粽叶'\n  }, {\n    key: 'hongzao',\n    name: '红枣'\n  }, {\n    key: 'zongzi',\n    name: '粽子'\n  }]; // 是否可以进行兑换操作的布尔值 true-不能 false-能\n\n  const [inactive, setInactive] = useState(true); // 兑换的粽子数量\n\n  const [convertNum, setConvertNum] = useState(0);\n  useEffect(() => {\n    let inactiveInit = true;\n    let nuomi = festivalObj.nuomi;\n    let zongye = festivalObj.zongye;\n    let hongzao = festivalObj.hongzao;\n\n    if (nuomi && zongye && hongzao) {\n      let nuomiFlag = util.getNumDivisibleFlag(nuomi, 10);\n      let zongyeFlag = util.getNumDivisibleFlag(zongye, 2);\n      let hongzaoFlag = util.getNumDivisibleFlag(hongzao, 2);\n\n      if (nuomiFlag && zongyeFlag && hongzaoFlag) {\n        inactiveInit = false;\n      }\n    }\n\n    setInactive(inactiveInit);\n  }, []); // 顶部提示\n\n  const headTip = () => {\n    return Modal.show({\n      title: '\"粽\"得凤仪',\n      content: /*#__PURE__*/React.createElement(\"div\", {\n        className: \"festival-modal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"festival-modal-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }\n      }, \"\\u5408\\u6210\\u7CBD\\u5B50\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"festival-modal-content mb10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"mb10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }\n      }, \"10*\\u7CEF\\u7C73+2*\\u7CBD\\u53F6+2*\\u7EA2\\u67A3\\u53EF\\u4EE5\\u5151\\u63621\\u4E2A\\u7CEF\\u7C73\\u7CBD\\u5B50\\u3002\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }\n      }, \"\\u5F53\\u7CEF\\u7C73\\u3001\\u7CBD\\u53F6\\u3001\\u7EA2\\u67A3\\u7684\\u6BD4\\u4F8B\\u4E0D\\u662F5:1:1\\u65F6\\uFF0C\\u65E0\\u6CD5\\u8FDB\\u884C\\u5151\\u6362\\u3002\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"festival-modal-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }\n      }, \"\\u79F0\\u53F7\\u5956\\u52B1\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"festival-modal-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"mb10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }\n      }, \"\\u5F53\\u524D\\u7CBD\\u5B50\\u6570\\u91CF\\u8FBE\\u523050\\u4E2A\\u53EF\\u83B7\\u5F97\\u79F0\\u53F7\\u201C\\u6DD1\\u4EEA\\u503E\\u57CE\\u201D\\u3002\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"mb10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }\n      }, \"\\u5F53\\u524D\\u7CBD\\u5B50\\u6570\\u91CF\\u8FBE\\u5230100\\u4E2A\\u53EF\\u83B7\\u5F97\\u79F0\\u53F7\\u201C\\u82B1\\u5BB9\\u521D\\u7EFD\\u201D\\u3002\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"mb10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }\n      }, \"\\u5F53\\u524D\\u7CBD\\u5B50\\u6570\\u91CF\\u8FBE\\u5230200\\u4E2A\\u53EF\\u83B7\\u5F97\\u79F0\\u53F7\\u201C\\u82B1\\u6210\\u871C\\u5C31\\u201D\\u3002\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"mb10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }\n      }, \"\\u5F53\\u524D\\u7CBD\\u5B50\\u6570\\u91CF\\u8FBE\\u5230300\\u4E2A\\u53EF\\u83B7\\u5F97\\u79F0\\u53F7\\u201C\\u5BA0\\u51A0\\u516D\\u5BAB\\u201D\\u3002\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"mb10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }\n      }, \"\\u5F53\\u524D\\u7CBD\\u5B50\\u6570\\u91CF\\u8FBE\\u5230400\\u4E2A\\u53EF\\u83B7\\u5F97\\u79F0\\u53F7\\u201C\\u51E4\\u4EEA\\u5343\\u8F7D\\u201D\\u3002\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }\n      }, \"\\u79F0\\u53F7\\u81EA\\u52A8\\u83B7\\u53D6\\u65E0\\u9700\\u989D\\u5916\\u64CD\\u4F5C\"))),\n      showCloseButton: true\n    });\n  }; // 粽子展示\n\n\n  const zongziContent = () => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"festival-zongzi\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 12\n      }\n    });\n  }; // 兑换确定操作\n\n\n  const convertOnConfirm = () => {\n    let festivalObjInit = { ...festivalObj\n    };\n    festivalObjInit.nuomi -= convertNum * 10;\n    festivalObjInit.zongye -= convertNum * 2;\n    festivalObjInit.hongzao -= convertNum * 2;\n    festivalObjInit.zongzi += convertNum;\n    console.log(festivalObjInit, 'festivalObjInit');\n    setfestivalObj(festivalObjInit);\n  }; // 获取可以兑换的数量\n\n\n  const getConvertCount = () => {\n    let nuomi = festivalObj.nuomi;\n    let zongye = festivalObj.zongye;\n    let hongzao = festivalObj.hongzao;\n    let nuomiNum = Math.floor(nuomi * 100 / (10 * 100));\n    let zongyeNum = Math.floor(zongye * 100 / (2 * 100));\n    let hongzaoNum = Math.floor(hongzao * 100 / (2 * 100));\n    return Math.min(nuomiNum, zongyeNum, hongzaoNum);\n  }; // 兑换操作\n\n\n  const handleConvert = () => {\n    const count = getConvertCount();\n    return Modal.show({\n      title: '粽子兑换',\n      content: /*#__PURE__*/React.createElement(\"div\", {\n        className: \"festival-modal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"festival-modal-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }\n      }, \"\\u6700\\u591A\\u53EF\\u4EE5\\u5151\\u6362: \", count), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"festival-modal-stepper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Stepper, {\n        step: 1,\n        defaultValue: 1,\n        min: 1,\n        max: count,\n        onChange: value => {\n          setConvertNum(value);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }\n      }))),\n      showCloseButton: true,\n      actions: [{\n        key: 'confirm',\n        text: '兑换',\n        primary: true,\n        confirm: () => {\n          Modal.close();\n          convertOnConfirm();\n        }\n      }]\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"festival\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"festival-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Back, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"festival-head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"festival-head-tip\",\n    onClick: headTip,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(QuestionCircleFill, {\n    fontSize: 28,\n    color: \"#f69bad\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"festival-head-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 11\n    }\n  }, \"\\\"\\u7CBD\\\"\\u5F97\\u51E4\\u4EEA\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"festival-convert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"festival-convert-num\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 11\n    }\n  }, list.map(item => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"festival-convert-num-item\",\n      key: item.key,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }\n    }, item.name, \": \", festivalObj[item.key]);\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"festival-convert-rule\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"festival-convert-rule-nuomi\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }\n  }), \" x 10\", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"festival-convert-rule-add\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 69\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"festival-convert-rule-zongye\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }\n  }), \" x 2\", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"festival-convert-rule-add\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 69\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"festival-convert-rule-hongzao\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }), \" x 2\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: classnames('festival-convert-btn', {\n      inactive: inactive\n    }),\n    onClick: handleConvert,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 11\n    }\n  }, \"\\u5151\\u6362\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"festival-room\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"festival-room-wall\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wall-poetry\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wall-poetry-nail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wall-poetry-shaft wall-poetry-shaft-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wall-poetry-inner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wall-poetry-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 15\n    }\n  }, \"\\u6D63\\u6EAA\\u6C99\\xB7\\u7AEF\\u5348\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wall-poetry-author\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 15\n    }\n  }, \"\\u5B8B\\xB7\\u82CF\\u8F7C\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wall-poetry-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 15\n    }\n  }, \"\\u8F7B\\u6C57\\u5FAE\\u5FAE\\u900F\\u78A7\\u7EA8\\uFF0C\\u660E\\u671D\\u7AEF\\u5348\\u6D74\\u82B3\\u5170\\u3002\\u6D41\\u9999\\u6DA8\\u817B\\u6EE1\\u6674\\u5DDD\\u3002\\u5F69\\u7EBF\\u8F7B\\u7F20\\u7EA2\\u7389\\u81C2\\uFF0C\\u5C0F\\u7B26\\u659C\\u6302\\u7EFF\\u4E91\\u9B1F\\u3002\\u4F73\\u4EBA\\u76F8\\u89C1\\u4E00\\u5343\\u5E74\\u3002\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wall-poetry-shaft wall-poetry-shaft-bottom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"festival-room-floor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"floor-line floor-line1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"floor-line floor-line2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"floor-line floor-line3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"floor-line floor-line4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"floor-line floor-line5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"floor-line floor-line6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"floor-line floor-line7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"floor-line floor-line8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"floor-line floor-line9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"floor-line floor-line10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default Festival;","map":{"version":3,"names":["React","useEffect","useState","classnames","Back","Modal","Stepper","QuestionCircleFill","util","Festival","userInfo","getUserInfo","festivalObj","setfestivalObj","festival","nuomi","zongye","hongzao","zongzi","list","key","name","inactive","setInactive","convertNum","setConvertNum","inactiveInit","nuomiFlag","getNumDivisibleFlag","zongyeFlag","hongzaoFlag","headTip","show","title","content","showCloseButton","zongziContent","convertOnConfirm","festivalObjInit","console","log","getConvertCount","nuomiNum","Math","floor","zongyeNum","hongzaoNum","min","handleConvert","count","value","actions","text","primary","confirm","close","map","item"],"sources":["/Users/yinyahui/Desktop/weblearn/juejin/react-antd-yyy-zongzi/src/pages/festival/index.jsx"],"sourcesContent":["/**\n * @description 端午活动\n */\nimport React, { useEffect, useState } from 'react';\nimport classnames from 'classnames';\nimport Back from '@/components/Back';\nimport { Modal, Stepper } from 'antd-mobile';\nimport { QuestionCircleFill } from 'antd-mobile-icons';\nimport util from '../../utils/util';\nimport './index.less';\n\nconst Festival = () => {\n  const userInfo = util.getUserInfo() || {};\n  const [festivalObj, setfestivalObj] = useState(\n    userInfo.festival\n      ? userInfo.festival\n      : {\n          nuomi: 80,\n          zongye: 20,\n          hongzao: 10,\n          zongzi: 100,\n        },\n  );\n  const list = [\n    {\n      key: 'nuomi',\n      name: '糯米',\n    },\n    {\n      key: 'zongye',\n      name: '粽叶',\n    },\n    {\n      key: 'hongzao',\n      name: '红枣',\n    },\n    {\n      key: 'zongzi',\n      name: '粽子',\n    },\n  ];\n\n  // 是否可以进行兑换操作的布尔值 true-不能 false-能\n  const [inactive, setInactive] = useState(true);\n\n  // 兑换的粽子数量\n  const [convertNum, setConvertNum] = useState(0);\n\n  useEffect(() => {\n    let inactiveInit = true;\n    let nuomi = festivalObj.nuomi;\n    let zongye = festivalObj.zongye;\n    let hongzao = festivalObj.hongzao;\n    if (nuomi && zongye && hongzao) {\n      let nuomiFlag = util.getNumDivisibleFlag(nuomi, 10);\n      let zongyeFlag = util.getNumDivisibleFlag(zongye, 2);\n      let hongzaoFlag = util.getNumDivisibleFlag(hongzao, 2);\n      if (nuomiFlag && zongyeFlag && hongzaoFlag) {\n        inactiveInit = false;\n      }\n    }\n    setInactive(inactiveInit);\n  }, []);\n\n  // 顶部提示\n  const headTip = () => {\n    return Modal.show({\n      title: '\"粽\"得凤仪',\n      content: (\n        <div className='festival-modal'>\n          <div className='festival-modal-title'>合成粽子</div>\n          <div className='festival-modal-content mb10'>\n            <p className='mb10'>10*糯米+2*粽叶+2*红枣可以兑换1个糯米粽子。</p>\n            <p>当糯米、粽叶、红枣的比例不是5:1:1时，无法进行兑换。</p>\n          </div>\n          <div className='festival-modal-title'>称号奖励</div>\n          <div className='festival-modal-content'>\n            <p className='mb10'>当前粽子数量达到50个可获得称号“淑仪倾城”。</p>\n            <p className='mb10'>当前粽子数量达到100个可获得称号“花容初绽”。</p>\n            <p className='mb10'>当前粽子数量达到200个可获得称号“花成蜜就”。</p>\n            <p className='mb10'>当前粽子数量达到300个可获得称号“宠冠六宫”。</p>\n            <p className='mb10'>当前粽子数量达到400个可获得称号“凤仪千载”。</p>\n            <p>称号自动获取无需额外操作</p>\n          </div>\n        </div>\n      ),\n      showCloseButton: true,\n    });\n  };\n\n  // 粽子展示\n  const zongziContent = () => {\n    return <div className='festival-zongzi'></div>;\n  };\n\n  // 兑换确定操作\n  const convertOnConfirm = () => {\n    let festivalObjInit = { ...festivalObj };\n    festivalObjInit.nuomi -= convertNum * 10;\n    festivalObjInit.zongye -= convertNum * 2;\n    festivalObjInit.hongzao -= convertNum * 2;\n    festivalObjInit.zongzi += convertNum;\n    console.log(festivalObjInit, 'festivalObjInit');\n    setfestivalObj(festivalObjInit);\n  };\n\n  // 获取可以兑换的数量\n  const getConvertCount = () => {\n    let nuomi = festivalObj.nuomi;\n    let zongye = festivalObj.zongye;\n    let hongzao = festivalObj.hongzao;\n    let nuomiNum = Math.floor((nuomi * 100) / (10 * 100));\n    let zongyeNum = Math.floor((zongye * 100) / (2 * 100));\n    let hongzaoNum = Math.floor((hongzao * 100) / (2 * 100));\n    return Math.min(nuomiNum, zongyeNum, hongzaoNum);\n  };\n\n  // 兑换操作\n  const handleConvert = () => {\n    const count = getConvertCount();\n    return Modal.show({\n      title: '粽子兑换',\n      content: (\n        <div className='festival-modal'>\n          <div className='festival-modal-text'>最多可以兑换: {count}</div>\n          <div className='festival-modal-stepper'>\n            <Stepper\n              step={1}\n              defaultValue={1}\n              min={1}\n              max={count}\n              onChange={value => {\n                setConvertNum(value);\n              }}\n            />\n          </div>\n        </div>\n      ),\n      showCloseButton: true,\n      actions: [\n        {\n          key: 'confirm',\n          text: '兑换',\n          primary: true,\n          confirm: () => {\n            Modal.close();\n            convertOnConfirm();\n          },\n        },\n      ],\n    });\n  };\n\n  return (\n    <div className='festival'>\n      <div className='festival-content'>\n        <Back />\n        <div className='festival-head'>\n          <div className='festival-head-tip' onClick={headTip}>\n            <QuestionCircleFill fontSize={28} color='#f69bad' />\n          </div>\n          <div className='festival-head-title'>\"粽\"得凤仪</div>\n        </div>\n        <div className='festival-convert'>\n          <div className='festival-convert-num'>\n            {list.map(item => {\n              return (\n                <div className='festival-convert-num-item' key={item.key}>\n                  {item.name}: {festivalObj[item.key]}\n                </div>\n              );\n            })}\n          </div>\n          <div className='festival-convert-rule'>\n            <div className='festival-convert-rule-nuomi'></div> x 10<div className='festival-convert-rule-add'></div>\n            <div className='festival-convert-rule-zongye'></div> x 2<div className='festival-convert-rule-add'></div>\n            <div className='festival-convert-rule-hongzao'></div> x 2\n          </div>\n          <div className={classnames('festival-convert-btn', { inactive: inactive })} onClick={handleConvert}>\n            兑换\n          </div>\n        </div>\n      </div>\n      <div className='festival-room'>\n        <div className='festival-room-wall'>\n          <div className='wall-poetry'>\n            <div className='wall-poetry-nail'></div>\n            <div className='wall-poetry-shaft wall-poetry-shaft-top'></div>\n            <div className='wall-poetry-inner'>\n              <div className='wall-poetry-title'>浣溪沙·端午</div>\n              <div className='wall-poetry-author'>宋·苏轼</div>\n              <div className='wall-poetry-content'>轻汗微微透碧纨，明朝端午浴芳兰。流香涨腻满晴川。彩线轻缠红玉臂，小符斜挂绿云鬟。佳人相见一千年。</div>\n            </div>\n            <div className='wall-poetry-shaft wall-poetry-shaft-bottom'></div>\n          </div>\n        </div>\n        <div className='festival-room-floor'>\n          <div className='floor-line floor-line1'></div>\n          <div className='floor-line floor-line2'></div>\n          <div className='floor-line floor-line3'></div>\n          <div className='floor-line floor-line4'></div>\n          <div className='floor-line floor-line5'></div>\n          <div className='floor-line floor-line6'></div>\n          <div className='floor-line floor-line7'></div>\n          <div className='floor-line floor-line8'></div>\n          <div className='floor-line floor-line9'></div>\n          <div className='floor-line floor-line10'></div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Festival;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}