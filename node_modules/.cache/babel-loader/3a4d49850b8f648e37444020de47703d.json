{"ast":null,"code":"var _jsxFileName = \"/Users/yinyahui/Desktop/weblearn/juejin/react-antd-manage/react-antd-manage/src/pages/home/components/Edit.jsx\";\n\n/**\n * @description 编辑\n */\nimport React, { useState, useEffect } from 'react';\nimport { Modal } from 'antd';\nimport { FireFilled } from '@ant-design/icons';\nimport BaseFormUI from '@/components/BaseFormUI';\n\nconst Edit = _ref => {\n  let { ...props\n  } = _ref;\n  const {\n    visible,\n    data = {},\n    onCancel\n  } = props;\n  const [confirmLoading, setConfirmLoading] = useState(false);\n  const [formRef, setFormRef] = useState({});\n  /**\n   * 操作-关闭弹框\n   * @param {string} type 要关闭的弹框key值\n   * @param {boolean} refresh 弹窗关闭后是否刷新列表\n   * @return {void} 无\n   */\n\n  const handleCancel = refresh => {\n    setConfirmLoading(false);\n    formRef.current.resetFields();\n    onCancel && onCancel(refresh);\n  };\n  /**\n   * 确定操作\n   */\n\n\n  const handleOk = () => {\n    formRef.current.submit();\n  };\n\n  useEffect(() => {\n    if (visible) {//\n    }\n  }, [visible]);\n  /**\n   * 设置表单的ref\n   */\n\n  const getFormRef = formRef => {\n    setFormRef(formRef);\n  };\n  /**\n   * 回调函数\n   */\n\n\n  const callback = (value, list) => {\n    console.log('value', value);\n    console.log('list', list);\n  }; // 列表\n\n\n  const list = [{\n    fieldtype: 'text',\n    label: '产品性质',\n    value: '新品'\n  }, {\n    fieldtype: 'text',\n    label: '促销活动',\n    children: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(FireFilled, {\n      style: {\n        color: '#d80000'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }), \"\\u53CC\\u5341\\u4E00\\u6D3B\\u52A8\")\n  }, {\n    fieldtype: 'input',\n    label: '名称',\n    key: 'title'\n  }, {\n    fieldtype: 'inputNumber',\n    label: '价格',\n    key: 'price',\n    unit: '元',\n    step: 0.01,\n    precision: 2,\n    min: 0.01\n  }, {\n    fieldtype: 'select',\n    label: '颜色',\n    key: 'color',\n    list: [{\n      id: 1,\n      name: '黑色'\n    }, {\n      id: 2,\n      name: '白色'\n    }, {\n      id: 99,\n      name: '其他'\n    }],\n    option: {},\n    textArea: {\n      code: 99,\n      label: '其他颜色',\n      key: 'otherColor',\n      option: {}\n    }\n  }, {\n    fieldtype: 'date',\n    label: '上架时间',\n    key: 'onShelfTime'\n  }, {\n    fieldtype: 'checkbox',\n    label: '尺码',\n    key: 'size',\n    list: [{\n      id: 1,\n      name: 'S'\n    }, {\n      id: 2,\n      name: 'M'\n    }, {\n      id: 3,\n      name: 'L'\n    }],\n    option: {}\n  }];\n  const config = {\n    data: { ...data,\n      initFieldsValueFlag: true\n    },\n    list: list,\n    getFormRef: getFormRef,\n    callback: callback\n  };\n  return /*#__PURE__*/React.createElement(Modal, {\n    title: \"\\u7F16\\u8F91\",\n    visible: visible,\n    confirmLoading: confirmLoading,\n    onOk: () => handleOk(),\n    onCancel: () => handleCancel(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(BaseFormUI, Object.assign({}, config, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }\n  })));\n};\n\nexport default Edit;","map":{"version":3,"names":["React","useState","useEffect","Modal","FireFilled","BaseFormUI","Edit","props","visible","data","onCancel","confirmLoading","setConfirmLoading","formRef","setFormRef","handleCancel","refresh","current","resetFields","handleOk","submit","getFormRef","callback","value","list","console","log","fieldtype","label","children","color","key","unit","step","precision","min","id","name","option","textArea","code","config","initFieldsValueFlag"],"sources":["/Users/yinyahui/Desktop/weblearn/juejin/react-antd-manage/react-antd-manage/src/pages/home/components/Edit.jsx"],"sourcesContent":["/**\n * @description 编辑\n */\nimport React, { useState, useEffect } from 'react';\nimport { Modal } from 'antd';\nimport { FireFilled } from '@ant-design/icons';\nimport BaseFormUI from '@/components/BaseFormUI';\n\nconst Edit = ({ ...props }) => {\n  const { visible, data = {}, onCancel } = props;\n  const [confirmLoading, setConfirmLoading] = useState(false);\n  const [formRef, setFormRef] = useState({});\n\n  /**\n   * 操作-关闭弹框\n   * @param {string} type 要关闭的弹框key值\n   * @param {boolean} refresh 弹窗关闭后是否刷新列表\n   * @return {void} 无\n   */\n  const handleCancel = refresh => {\n    setConfirmLoading(false);\n    formRef.current.resetFields();\n    onCancel && onCancel(refresh);\n  };\n\n  /**\n   * 确定操作\n   */\n  const handleOk = () => {\n    formRef.current.submit();\n  };\n\n  useEffect(() => {\n    if (visible) {\n      //\n    }\n  }, [visible]);\n\n  /**\n   * 设置表单的ref\n   */\n  const getFormRef = formRef => {\n    setFormRef(formRef);\n  };\n\n  /**\n   * 回调函数\n   */\n  const callback = (value, list) => {\n    console.log('value', value);\n    console.log('list', list);\n  };\n\n  // 列表\n  const list = [\n    {\n      fieldtype: 'text',\n      label: '产品性质',\n      value: '新品',\n    },\n    {\n      fieldtype: 'text',\n      label: '促销活动',\n      children: (\n        <div>\n          <FireFilled style={{ color: '#d80000' }} />\n          双十一活动\n        </div>\n      ),\n    },\n    {\n      fieldtype: 'input',\n      label: '名称',\n      key: 'title',\n    },\n    {\n      fieldtype: 'inputNumber',\n      label: '价格',\n      key: 'price',\n      unit: '元',\n      step: 0.01,\n      precision: 2,\n      min: 0.01,\n    },\n    {\n      fieldtype: 'select',\n      label: '颜色',\n      key: 'color',\n      list: [\n        {\n          id: 1,\n          name: '黑色',\n        },\n        {\n          id: 2,\n          name: '白色',\n        },\n        {\n          id: 99,\n          name: '其他',\n        },\n      ],\n      option: {},\n      textArea: {\n        code: 99,\n        label: '其他颜色',\n        key: 'otherColor',\n        option: {},\n      },\n    },\n    {\n      fieldtype: 'date',\n      label: '上架时间',\n      key: 'onShelfTime',\n    },\n    {\n      fieldtype: 'checkbox',\n      label: '尺码',\n      key: 'size',\n      list: [\n        {\n          id: 1,\n          name: 'S',\n        },\n        {\n          id: 2,\n          name: 'M',\n        },\n        {\n          id: 3,\n          name: 'L',\n        },\n      ],\n      option: {},\n    },\n  ];\n\n  const config = {\n    data: {\n      ...data,\n      initFieldsValueFlag: true,\n    },\n    list: list,\n    getFormRef: getFormRef,\n    callback: callback,\n  };\n\n  return (\n    <Modal title='编辑' visible={visible} confirmLoading={confirmLoading} onOk={() => handleOk()} onCancel={() => handleCancel(false)}>\n      <BaseFormUI {...config} />\n    </Modal>\n  );\n};\n\nexport default Edit;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}