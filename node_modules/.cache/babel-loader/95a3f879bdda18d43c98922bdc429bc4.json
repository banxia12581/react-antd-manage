{"ast":null,"code":"var _jsxFileName = \"/Users/yinyahui/Desktop/weblearn/juejin/react-antd-manage/react-antd-manage/src/pages/home/components/Edit.jsx\";\n\n/**\n * @description 编辑\n */\nimport React, { useState, useEffect } from 'react';\nimport { Modal } from 'antd';\nimport { CommonBaseFormUI } from '@src/components';\n\nconst Edit = _ref => {\n  let { ...props\n  } = _ref;\n  const {\n    visible,\n    data = {},\n    onCancel\n  } = props;\n  const [confirmLoading, setConfirmLoading] = useState(false);\n  const [formRef, setFormRef] = useState({});\n  /**\n   * 操作-关闭弹框\n   * @param {string} type 要关闭的弹框key值\n   * @param {boolean} refresh 弹窗关闭后是否刷新列表\n   * @return {void} 无\n   */\n\n  const handleCancel = refresh => {\n    setConfirmLoading(false);\n    formRef.current.resetFields();\n    onCancel && onCancel(refresh);\n  }; // 确定操作\n\n\n  const handleOk = () => {\n    formRef.current.submit();\n  };\n\n  useEffect(() => {\n    if (visible) {//\n    }\n  }, [visible]);\n\n  const getFormRef = formRef => {\n    setFormRef(formRef);\n  };\n\n  const callback = value => {\n    console.log('value', value);\n  };\n\n  const config = {\n    data: { ...data,\n      initFlag: true\n    },\n    list: [{\n      fieldtype: 'input',\n      label: '姓名',\n      key: 'name'\n    }, {\n      fieldtype: 'input',\n      label: '地址',\n      key: 'address'\n    }, {\n      fieldtype: 'select',\n      label: '城市',\n      key: 'cityId',\n      list: [{\n        id: 1,\n        name: '北京'\n      }, {\n        id: 2,\n        name: '天津'\n      }],\n      option: {}\n    }],\n    getFormRef: getFormRef,\n    callback: callback\n  };\n  return /*#__PURE__*/React.createElement(Modal, Object.assign({\n    title: \"\\u7F16\\u8F91\",\n    visible: visible,\n    confirmLoading: confirmLoading,\n    onOk: () => handleOk(),\n    onCancel: () => handleCancel(false)\n  }, MODAL_BASE_CONFIG, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(CommonBaseFormUI, Object.assign({}, config, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  })));\n};\n\nexport default Edit;","map":{"version":3,"names":["React","useState","useEffect","Modal","CommonBaseFormUI","Edit","props","visible","data","onCancel","confirmLoading","setConfirmLoading","formRef","setFormRef","handleCancel","refresh","current","resetFields","handleOk","submit","getFormRef","callback","value","console","log","config","initFlag","list","fieldtype","label","key","id","name","option","MODAL_BASE_CONFIG"],"sources":["/Users/yinyahui/Desktop/weblearn/juejin/react-antd-manage/react-antd-manage/src/pages/home/components/Edit.jsx"],"sourcesContent":["/**\n * @description 编辑\n */\nimport React, { useState, useEffect } from 'react';\nimport { Modal } from 'antd';\nimport { CommonBaseFormUI } from '@src/components';\n\nconst Edit = ({ ...props }) => {\n  const { visible, data = {}, onCancel } = props;\n  const [confirmLoading, setConfirmLoading] = useState(false);\n  const [formRef, setFormRef] = useState({});\n\n  /**\n   * 操作-关闭弹框\n   * @param {string} type 要关闭的弹框key值\n   * @param {boolean} refresh 弹窗关闭后是否刷新列表\n   * @return {void} 无\n   */\n  const handleCancel = refresh => {\n    setConfirmLoading(false);\n    formRef.current.resetFields();\n    onCancel && onCancel(refresh);\n  };\n\n  // 确定操作\n  const handleOk = () => {\n    formRef.current.submit();\n  };\n\n  useEffect(() => {\n    if (visible) {\n      //\n    }\n  }, [visible]);\n\n  const getFormRef = formRef => {\n    setFormRef(formRef);\n  };\n\n  const callback = value => {\n    console.log('value', value);\n  };\n\n  const config = {\n    data: {\n      ...data,\n      initFlag: true,\n    },\n    list: [\n      {\n        fieldtype: 'input',\n        label: '姓名',\n        key: 'name',\n      },\n      {\n        fieldtype: 'input',\n        label: '地址',\n        key: 'address',\n      },\n      {\n        fieldtype: 'select',\n        label: '城市',\n        key: 'cityId',\n        list: [\n          {\n            id: 1,\n            name: '北京',\n          },\n          {\n            id: 2,\n            name: '天津',\n          },\n        ],\n        option: {},\n      },\n    ],\n    getFormRef: getFormRef,\n    callback: callback,\n  };\n\n  return (\n    <Modal title='编辑' visible={visible} confirmLoading={confirmLoading} onOk={() => handleOk()} onCancel={() => handleCancel(false)} {...MODAL_BASE_CONFIG}>\n      <CommonBaseFormUI {...config} />\n    </Modal>\n  );\n};\n\nexport default Edit;\n"],"mappings":";;AAAA;AACA;AACA;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,KAAT,QAAsB,MAAtB;AACA,SAASC,gBAAT,QAAiC,iBAAjC;;AAEA,MAAMC,IAAI,GAAG,QAAkB;EAAA,IAAjB,EAAE,GAAGC;EAAL,CAAiB;EAC7B,MAAM;IAAEC,OAAF;IAAWC,IAAI,GAAG,EAAlB;IAAsBC;EAAtB,IAAmCH,KAAzC;EACA,MAAM,CAACI,cAAD,EAAiBC,iBAAjB,IAAsCV,QAAQ,CAAC,KAAD,CAApD;EACA,MAAM,CAACW,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,EAAD,CAAtC;EAEA;AACF;AACA;AACA;AACA;AACA;;EACE,MAAMa,YAAY,GAAGC,OAAO,IAAI;IAC9BJ,iBAAiB,CAAC,KAAD,CAAjB;IACAC,OAAO,CAACI,OAAR,CAAgBC,WAAhB;IACAR,QAAQ,IAAIA,QAAQ,CAACM,OAAD,CAApB;EACD,CAJD,CAX6B,CAiB7B;;;EACA,MAAMG,QAAQ,GAAG,MAAM;IACrBN,OAAO,CAACI,OAAR,CAAgBG,MAAhB;EACD,CAFD;;EAIAjB,SAAS,CAAC,MAAM;IACd,IAAIK,OAAJ,EAAa,CACX;IACD;EACF,CAJQ,EAIN,CAACA,OAAD,CAJM,CAAT;;EAMA,MAAMa,UAAU,GAAGR,OAAO,IAAI;IAC5BC,UAAU,CAACD,OAAD,CAAV;EACD,CAFD;;EAIA,MAAMS,QAAQ,GAAGC,KAAK,IAAI;IACxBC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB;EACD,CAFD;;EAIA,MAAMG,MAAM,GAAG;IACbjB,IAAI,EAAE,EACJ,GAAGA,IADC;MAEJkB,QAAQ,EAAE;IAFN,CADO;IAKbC,IAAI,EAAE,CACJ;MACEC,SAAS,EAAE,OADb;MAEEC,KAAK,EAAE,IAFT;MAGEC,GAAG,EAAE;IAHP,CADI,EAMJ;MACEF,SAAS,EAAE,OADb;MAEEC,KAAK,EAAE,IAFT;MAGEC,GAAG,EAAE;IAHP,CANI,EAWJ;MACEF,SAAS,EAAE,QADb;MAEEC,KAAK,EAAE,IAFT;MAGEC,GAAG,EAAE,QAHP;MAIEH,IAAI,EAAE,CACJ;QACEI,EAAE,EAAE,CADN;QAEEC,IAAI,EAAE;MAFR,CADI,EAKJ;QACED,EAAE,EAAE,CADN;QAEEC,IAAI,EAAE;MAFR,CALI,CAJR;MAcEC,MAAM,EAAE;IAdV,CAXI,CALO;IAiCbb,UAAU,EAAEA,UAjCC;IAkCbC,QAAQ,EAAEA;EAlCG,CAAf;EAqCA,oBACE,oBAAC,KAAD;IAAO,KAAK,EAAC,cAAb;IAAkB,OAAO,EAAEd,OAA3B;IAAoC,cAAc,EAAEG,cAApD;IAAoE,IAAI,EAAE,MAAMQ,QAAQ,EAAxF;IAA4F,QAAQ,EAAE,MAAMJ,YAAY,CAAC,KAAD;EAAxH,GAAqIoB,iBAArI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,iBACE,oBAAC,gBAAD,oBAAsBT,MAAtB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GADF,CADF;AAKD,CA9ED;;AAgFA,eAAepB,IAAf"},"metadata":{},"sourceType":"module"}