{"ast":null,"code":"import { useMemo } from 'react';\nimport memoize from 'lodash/memoize';\nexport function useCascaderValueExtend(options) {\n  const generateItems = useMemo(() => {\n    return memoize(val => {\n      const ret = [];\n      let currentOptions = options;\n\n      for (const v of val) {\n        const target = currentOptions.find(option => option.value === v);\n\n        if (!target) {\n          break;\n        }\n\n        ret.push(target);\n        if (!target.children) break;\n        currentOptions = target.children;\n      }\n\n      return ret;\n    }, val => JSON.stringify(val));\n  }, [options]);\n  const generateIsLeaf = useMemo(() => {\n    return memoize(val => {\n      var _a;\n\n      let isLeaf = false;\n\n      for (const v of val) {\n        const target = options.find(option => option.value === v);\n\n        if (!target) {\n          break;\n        }\n\n        isLeaf = ((_a = target.children) === null || _a === void 0 ? void 0 : _a.length) === val.length;\n      }\n\n      return isLeaf;\n    }, val => JSON.stringify(val));\n  }, [options]);\n\n  function generateValueExtend(val) {\n    return {\n      get items() {\n        return generateItems(val);\n      },\n\n      get isLeaf() {\n        return generateIsLeaf(val);\n      }\n\n    };\n  }\n\n  return generateValueExtend;\n}","map":{"version":3,"names":["useMemo","memoize","useCascaderValueExtend","options","generateItems","val","ret","currentOptions","v","target","find","option","value","push","children","JSON","stringify","generateIsLeaf","_a","isLeaf","length","generateValueExtend","items"],"sources":["/Users/yinyahui/Desktop/weblearn/juejin/react-antd-manage/react-antd-manage/node_modules/_antd-mobile@5.12.6@antd-mobile/es/components/cascader-view/use-cascader-value-extend.js"],"sourcesContent":["import { useMemo } from 'react';\nimport memoize from 'lodash/memoize';\nexport function useCascaderValueExtend(options) {\n  const generateItems = useMemo(() => {\n    return memoize(val => {\n      const ret = [];\n      let currentOptions = options;\n\n      for (const v of val) {\n        const target = currentOptions.find(option => option.value === v);\n\n        if (!target) {\n          break;\n        }\n\n        ret.push(target);\n        if (!target.children) break;\n        currentOptions = target.children;\n      }\n\n      return ret;\n    }, val => JSON.stringify(val));\n  }, [options]);\n  const generateIsLeaf = useMemo(() => {\n    return memoize(val => {\n      var _a;\n\n      let isLeaf = false;\n\n      for (const v of val) {\n        const target = options.find(option => option.value === v);\n\n        if (!target) {\n          break;\n        }\n\n        isLeaf = ((_a = target.children) === null || _a === void 0 ? void 0 : _a.length) === val.length;\n      }\n\n      return isLeaf;\n    }, val => JSON.stringify(val));\n  }, [options]);\n\n  function generateValueExtend(val) {\n    return {\n      get items() {\n        return generateItems(val);\n      },\n\n      get isLeaf() {\n        return generateIsLeaf(val);\n      }\n\n    };\n  }\n\n  return generateValueExtend;\n}"],"mappings":"AAAA,SAASA,OAAT,QAAwB,OAAxB;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,OAAO,SAASC,sBAAT,CAAgCC,OAAhC,EAAyC;EAC9C,MAAMC,aAAa,GAAGJ,OAAO,CAAC,MAAM;IAClC,OAAOC,OAAO,CAACI,GAAG,IAAI;MACpB,MAAMC,GAAG,GAAG,EAAZ;MACA,IAAIC,cAAc,GAAGJ,OAArB;;MAEA,KAAK,MAAMK,CAAX,IAAgBH,GAAhB,EAAqB;QACnB,MAAMI,MAAM,GAAGF,cAAc,CAACG,IAAf,CAAoBC,MAAM,IAAIA,MAAM,CAACC,KAAP,KAAiBJ,CAA/C,CAAf;;QAEA,IAAI,CAACC,MAAL,EAAa;UACX;QACD;;QAEDH,GAAG,CAACO,IAAJ,CAASJ,MAAT;QACA,IAAI,CAACA,MAAM,CAACK,QAAZ,EAAsB;QACtBP,cAAc,GAAGE,MAAM,CAACK,QAAxB;MACD;;MAED,OAAOR,GAAP;IACD,CAjBa,EAiBXD,GAAG,IAAIU,IAAI,CAACC,SAAL,CAAeX,GAAf,CAjBI,CAAd;EAkBD,CAnB4B,EAmB1B,CAACF,OAAD,CAnB0B,CAA7B;EAoBA,MAAMc,cAAc,GAAGjB,OAAO,CAAC,MAAM;IACnC,OAAOC,OAAO,CAACI,GAAG,IAAI;MACpB,IAAIa,EAAJ;;MAEA,IAAIC,MAAM,GAAG,KAAb;;MAEA,KAAK,MAAMX,CAAX,IAAgBH,GAAhB,EAAqB;QACnB,MAAMI,MAAM,GAAGN,OAAO,CAACO,IAAR,CAAaC,MAAM,IAAIA,MAAM,CAACC,KAAP,KAAiBJ,CAAxC,CAAf;;QAEA,IAAI,CAACC,MAAL,EAAa;UACX;QACD;;QAEDU,MAAM,GAAG,CAAC,CAACD,EAAE,GAAGT,MAAM,CAACK,QAAb,MAA2B,IAA3B,IAAmCI,EAAE,KAAK,KAAK,CAA/C,GAAmD,KAAK,CAAxD,GAA4DA,EAAE,CAACE,MAAhE,MAA4Ef,GAAG,CAACe,MAAzF;MACD;;MAED,OAAOD,MAAP;IACD,CAhBa,EAgBXd,GAAG,IAAIU,IAAI,CAACC,SAAL,CAAeX,GAAf,CAhBI,CAAd;EAiBD,CAlB6B,EAkB3B,CAACF,OAAD,CAlB2B,CAA9B;;EAoBA,SAASkB,mBAAT,CAA6BhB,GAA7B,EAAkC;IAChC,OAAO;MACL,IAAIiB,KAAJ,GAAY;QACV,OAAOlB,aAAa,CAACC,GAAD,CAApB;MACD,CAHI;;MAKL,IAAIc,MAAJ,GAAa;QACX,OAAOF,cAAc,CAACZ,GAAD,CAArB;MACD;;IAPI,CAAP;EAUD;;EAED,OAAOgB,mBAAP;AACD"},"metadata":{},"sourceType":"module"}